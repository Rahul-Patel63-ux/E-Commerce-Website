<!doctype html>
<html lang="en" data-layout="vertical" data-sidebar="dark" data-sidebar-image="img-1" data-sidebar-size="lg" data-preloader="disable" data-theme="default" data-topbar="light" data-bs-theme="light" data-theme-color="0">




{% load static %}
<head>

        <meta charset="utf-8">
        <title>E-Commerce | {% block title %}{% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="" name="description">
        <meta content="" name="author">
        <!-- App favicon -->
        <link rel="shortcut icon" href="{% static 'assets/images/favicon.ico' %}">


        <!-- HTMX cdn-->
    <script src="https://unpkg.com/htmx.org@2.0.4"></script>

<!--    Script jquery cdns-->
<!--    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.21.0/jquery.validate.min.js"></script>-->


<!--    remix icon starts here-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">

<!--        <link href="https://cdn.jsdelivr.net/npm/remixicon@4.6.0/remixicon.min.css" rel="stylesheet">-->
<!--    remix icon ends here-->


        <!-- boootstrap cdn starts here -->

            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
     <!-- boootstrap cdn ends here -->



        <!-- base css assets -->
       {% include 'base_assets/base_css.html' %}
       <!-- custom css -->

        {% block style %}
        {% endblock %}
        <!-- custom css end here -->
    </head>

<body>


    <section class="auth-page-wrapper p-2 p-lg-4 position-relative d-flex align-items-center justify-content-center min-vh-100">
        <div class="card mb-0 w-100 p-3 p-lg-2" style="background-image: url({% static 'assets/images/auth/auth.jpg' %});background-size: cover;background-position: center;">
            <div class="effect-one"></div>
            <div class="row g-0 align-items-center">
                <div class="col-xxl-8 order-last order-xl-first">
                    <div class="card auth-card border-0 shadow-none mb-0 bg-transparent">
                        <div class="card-body p-4 p-xl-5 d-flex justify-content-between flex-column h-100">

                            <div class="text-center mt-auto">
                                <p class="mb-0 mt-3 text-white">

                                    
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <!--end col-->
                <div class="col-xxl-4 mx-auto">
                    <div class="card shadow-lg border-none m-lg-5">
                        <div class="card-body">
                            <!--    alert-->
                             {% include 'alertcomponents/alertcomponent.html' %}
                            <div class="text-center mt-4">
                                <div class="mb-4 pb-4">
                                    <a href="index.html" class="auth-logo">
                                        <img src="{% static 'assets/images/logo-dark.png' %}" alt="" height="30" class="auth-logo-dark mx-auto">
                                        <img src="{% static 'assets/images/logo-light.png' %}" alt="" height="30" class="auth-logo-light mx-auto">
                                    </a>
                                </div>
                            </div>
                            <div class="text-muted text-center mb-4 mx-lg-3">

                                <h4>OTP</h4>
                                <p>Please enter the 4 digit code sent to <span class="fw-semibold">{{user_id.admin_email}}</span></p>
                            </div>
                            <div class="p-2 mt-4">
                                <form action="{% url 'otpPage' user_id.id %}" id="otpform" method="post">
                                    {% csrf_token %}
                                    <div class="mb-3">
                                        <label for="otp" class="form-label">Enter OTP <span
                                                style="color:red">*</span></label>
                                        <div class="position-relative ">
                                            <input type="text" class="form-control  password-input" id="otp"
                                                placeholder="Ex. 1234" name="otp">
                                        </div>
                                    </div>

                                    <div class="mt-4">
                                        <button class="btn btn-primary w-100" id="sign_in_button" type="submit">Submit <i class="bi bi-arrow-right ms-1 fw-bold"></i></button>
                                    </div>
                                </form>
                            </div>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div>
                <!--end col-->
            </div>
            <!--end row-->
        </div>
    </section>
   {% include 'base_assets/base_js.html' %}
    <!-- JAVASCRIPT -->
    <script src="assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/libs/simplebar/dist/simplebar.min.js"></script>
    <script src="assets/js/plugins.js"></script>    <script src="assets/js/pages/two-step-verification.init.js"></script>

</body>
<script>

            $(document).ready(function () {

                $.validator.addMethod("noSpace", function(value, element){
                    return this.optional(element) || (value.trim().length === value.length);
                }, "Spaces are not allowed");

                $.validator.addMethod("noCharacters", function(value, element) {
                    return this.optional(element) || /^[^a-zA-Z]+$/.test(value);
                }, "Characters are not allowed");

                $.validator.addMethod("noSpecialChars", function (value, element) {
                    return this.optional(element) || /^[a-zA-Z0-9 ]+$/.test(value);
                }, "Special Characters are not allowed");
                            $('#otpform').validate({
                                rules:{
                                    otp:{
                                        required:true,
                                        noSpace: true,
                                        noCharacters: true,
                                        noSpecialChars: true
                                    }
                                },
                                messages:{
                                    otp:{
                                        required:'Plese enter OTP',
                                        noSpace: "Spaces are not allowed",
                                        noCharacters: "Characters are not allowed",
                                        noSpecialChars: "Special Characters are not allowed"
                                    }
                                },
                                submitHandler: function (form) {
                                $('#sign_in_button').prop('disabled', true);
                                form.submit();
                            }
                        });

                    });
                </script>

</html>